# RMSE 误差分析报告

## 当前误差概况

| 指标 | 数值 | 说明 |
|------|------|------|
| 功率模型 R² | 0.3295 | 仅解释 33% 方差，预测能力有限 |
| 功率模型 RMSE | 0.80 W | 拟合阶段 |
| **验证段功率 RMSE** | **1.45 W** | 模型功率 vs 实测功率 |
| **SOC RMSE** | **5.38%** | 模拟 SOC vs 实测 SOC |
| 模型平均功率 | 1.97 W | 系统性低估 |
| 实测平均功率 | 2.47 W | 低估约 20% |

## 误差来源分解

### 1. 🔴 功率模型系统性低估（主因）

- 理论 SOC 下降（基于模型功率）: **82.9%**
- 实际 SOC 下降: **98.0%**
- 差距说明：模型功率比真实负载低约 (98-82.9)/82.9 ≈ 18%

### 2. 🟡 功率模型结构局限

- R²=0.33 表明有大量未建模因素：蓝牙、传感器、后台应用、GPU、不同屏幕内容等
- 加权平均 31 个实验的系数，可能不适合当前验证段所在实验的功耗特征
- 建议：对验证段所属实验单独拟合系数，或采用“最近邻实验”加权

### 3. 🟡 容量与电池模型

- 使用容量 8.0 Ah，数据反推约 8.48–8.59 Ah
- 容量偏差会叠加在功率偏差上影响 SOC 轨迹
- 老化参数 θ₁, θ₂ 通过拟合可部分补偿，但无法弥补功率模型本身误差

### 4. 🟢 其他

- ~~Deprecation: `np.trapz`~~ → 已改用 `np.trapezoid`
- 实测功率含 0 值（范围 [0, 8.09]），可能为采样间隙或噪声

## 改进优先级

1. **优先**：用验证段所属实验单独拟合功率系数，避免跨实验加权平均带来的偏差
2. **可选**：功率缩放校正——若验证段模型功率系统性偏低，可加 scale = P_measured_avg / P_model_avg
3. **可选**：引入更多特征（蓝牙、传感器、后台应用等）提升 R²
4. **可选**：对验证段做容量校准（Q_calibrated）并联合优化 θ₁、θ₂、Q
